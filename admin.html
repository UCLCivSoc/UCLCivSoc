<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UCL CivSoc | Ops Console</title>

    <link rel="icon" type="image/png" href="images/website/civsoclogo.png">
<link rel="apple-touch-icon" href="images/website/civsoclogo.png">
    <style>
        :root { 
            --bg-dark: #0f0f13; 
            --glass-panel: rgba(30, 30, 35, 0.7);
            --glass-border: rgba(255, 255, 255, 0.08);
            --accent: #F6BE00; /* UCL Gold */
            --primary: #500778; /* UCL Purple */
            --text-main: #ffffff;
            --text-muted: #a0a0a0;
            --sidebar-width: 280px;
            --blur-strength: 20px;
        }
        
        * { box-sizing: border-box; }

        body {
            background-color: var(--bg-dark);
            /* Subtle gradient mesh background */
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(80, 7, 120, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(184, 134, 11, 0.1) 0%, transparent 40%);
            color: var(--text-main);
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            margin: 0; padding: 0; height: 100vh; overflow: hidden;
            display: flex;
        }

        /* --- 1. LOCK SCREEN (Cyberpunk Style) --- */
        #lock-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-dark); z-index: 2000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.6s ease;
            backdrop-filter: blur(10px);
        }
        .lock-box {
            background: rgba(255, 255, 255, 0.03); 
            padding: 4rem; border-radius: 24px;
            border: 1px solid var(--glass-border); 
            text-align: center;
            box-shadow: 0 20px 80px rgba(0,0,0,0.6);
            backdrop-filter: blur(var(--blur-strength));
        }
        .lock-icon { font-size: 4rem; margin-bottom: 1rem; display: block; animation: float 3s infinite ease-in-out; }
        
        input[type="password"] {
            background: rgba(0,0,0,0.3); border: 1px solid #333; color: white;
            padding: 15px; border-radius: 8px; font-size: 1.1rem; width: 240px;
            text-align: center; margin-top: 1.5rem; outline: none; 
            transition: all 0.3s; letter-spacing: 2px;
        }
        input[type="password"]:focus { border-color: var(--accent); box-shadow: 0 0 15px rgba(246, 190, 0, 0.2); }
        
        .unlock-btn {
            display: block; width: 100%; margin-top: 1.5rem;
            background: var(--accent); color: #000; font-weight: 900;
            border: none; padding: 15px; border-radius: 8px; cursor: pointer;
            text-transform: uppercase; letter-spacing: 2px; transition: all 0.2s;
        }
        .unlock-btn:hover { transform: translateY(-2px); box-shadow: 0 5px 20px rgba(246, 190, 0, 0.4); }
        .error-msg { color: #ff4444; font-size: 0.85rem; margin-top: 15px; display: none; font-weight: bold; letter-spacing: 1px; }

        /* --- 2. DASHBOARD LAYOUT --- */
        #dashboard-container {
            display: none; /* Hidden until unlocked */
            width: 100%; height: 100%;
            display: flex;
        }
        
        /* Sidebar */
        aside {
            width: var(--sidebar-width); 
            background: rgba(15, 15, 19, 0.95);
            border-right: 1px solid var(--glass-border);
            display: flex; flex-direction: column; padding: 30px;
            height: 100%; flex-shrink: 0;
            backdrop-filter: blur(20px);
        }
        
        .admin-logo { 
            font-weight: 900; color: white; font-size: 1.1rem; letter-spacing: 2px;
            margin-bottom: 50px; display: flex; align-items: center; gap: 10px;
            opacity: 0.8;
        }
        .admin-logo span { color: var(--accent); }
        
        /* Nav Links */
        .nav-item {
            padding: 14px 18px; margin-bottom: 8px; border-radius: 12px;
            color: var(--text-muted); text-decoration: none; font-weight: 600;
            font-size: 0.9rem; cursor: pointer; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: flex; align-items: center; gap: 15px;
            border: 1px solid transparent;
        }
        .nav-item:hover { background: rgba(255,255,255,0.03); color: white; }
        
        .nav-item.active { 
            background: linear-gradient(90deg, rgba(184, 134, 11, 0.15), transparent);
            color: var(--accent); 
            border: 1px solid rgba(184, 134, 11, 0.1);
        }
        
        .logout-btn {
            margin-top: auto; color: #ff4444; border: 1px solid rgba(255, 68, 68, 0.2);
            justify-content: center; background: rgba(255, 68, 68, 0.05);
        }
        .logout-btn:hover { background: #ff4444; color: white; border-color: #ff4444; }

        /* Main Content */
        main {
            flex-grow: 1; height: 100%; overflow-y: auto; padding: 50px 60px;
            background: transparent; /* Show body gradient */
        }

        .view-section { display: none; animation: slideUpFade 0.4s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .view-section.active { display: block; }

        header { margin-bottom: 50px; }
        h1 { margin: 0 0 10px 0; font-size: 2.5rem; color: white; font-weight: 800; letter-spacing: -1px; }
        p.intro { color: var(--text-muted); font-size: 1.1rem; font-weight: 300; margin: 0; }
        
        h2 { 
            font-size: 0.85rem; color: var(--accent); margin: 50px 0 20px 0; 
            text-transform: uppercase; letter-spacing: 2px; font-weight: 700;
            display: flex; align-items: center; gap: 10px;
        }
        h2::after { content: ''; height: 1px; background: linear-gradient(90deg, var(--glass-border), transparent); flex-grow: 1; }

        /* Glass Cards Grid */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; }

        .card {
            background: var(--glass-panel); 
            border: 1px solid var(--glass-border); 
            padding: 30px; border-radius: 16px;
            transition: all 0.3s ease; 
            position: relative; display: flex; flex-direction: column;
            backdrop-filter: blur(10px);
        }
        .card:hover { 
            transform: translateY(-5px); 
            border-color: rgba(255,255,255,0.2);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
            background: rgba(40, 40, 45, 0.8);
        }
        
        .card-icon { font-size: 2.5rem; margin-bottom: 20px; display: block; filter: drop-shadow(0 0 20px rgba(255,255,255,0.1)); }
        .card-title { font-weight: 700; color: white; margin-bottom: 8px; font-size: 1.1rem; }
        .card-desc { font-size: 0.9rem; color: var(--text-muted); line-height: 1.5; margin-bottom: 25px; flex-grow: 1; }
        
        .action-btn {
            display: block; width: 100%; padding: 12px; text-align: center;
            background: rgba(255,255,255,0.1); color: white; text-decoration: none; font-size: 0.85rem;
            font-weight: 700; border-radius: 8px; transition: all 0.2s;
            border: 1px solid transparent;
        }
        .action-btn:hover { background: white; color: black; box-shadow: 0 5px 15px rgba(255,255,255,0.2); }
        
        .action-btn.download { background: transparent; border: 1px solid #555; }
        .action-btn.download:hover { border-color: var(--accent); color: var(--accent); background: rgba(184, 134, 11, 0.1); box-shadow: none; }

        /* Specific UI Elements */
        .swatch { height: 60px; width: 100%; border-radius: 8px; margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.1); cursor: pointer; position: relative; }
        .swatch::after { content: 'COPY HEX'; position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); color:white; display:flex; justify-content: center; align-items:center; opacity:0; transition: 0.2s; font-size: 0.8rem; font-weight: bold; }
        .swatch:hover::after { opacity: 1; }

        /* Smart Logo Preview */
        .img-preview { 
            height: 60px; width: 100%; margin-bottom: 20px; object-fit: contain; display: block; 
            padding: 5px; border-radius: 4px; transition: 0.2s;
        }
        .img-preview.light-bg { background: white; padding: 10px; border-radius: 8px; }
        
        /* Pulsing Status Dot */
        .status-dot { display: inline-block; width: 12px; height: 12px; border-radius: 50%; margin-right: 10px; }
        .status-green { background: #00e676; box-shadow: 0 0 0 rgba(0, 230, 118, 0.4); animation: pulse-green 2s infinite; }
        .status-yellow { background: #ffeb3b; box-shadow: 0 0 0 rgba(255, 235, 59, 0.4); animation: pulse-yellow 2s infinite; }

        @keyframes pulse-green { 0% { box-shadow: 0 0 0 0 rgba(0, 230, 118, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(0, 230, 118, 0); } 100% { box-shadow: 0 0 0 0 rgba(0, 230, 118, 0); } }
        @keyframes pulse-yellow { 0% { box-shadow: 0 0 0 0 rgba(255, 235, 59, 0.7); } 70% { box-shadow: 0 0 0 10px rgba(255, 235, 59, 0); } 100% { box-shadow: 0 0 0 0 rgba(255, 235, 59, 0); } }
        @keyframes slideUpFade { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
    </style>
</head>
<body>

    <div id="lock-screen">
        <div class="lock-box">
            <div class="lock-icon">üîí</div>
            <h3 style="color:white; margin:0; font-weight:800; letter-spacing:1px;">COMMITTEE ACCESS</h3>
            <p style="color:#888; font-size:0.9rem; margin-top:10px;">CivSoc Executive Board</p>
            
            <input type="password" id="password-input" placeholder="ACCESS KEY">
            <div class="error-msg" id="error-msg">ACCESS DENIED</div>
            <button class="unlock-btn" onclick="attemptUnlock()">Authenticate</button>
            <a href="index.html" style="display:block; margin-top:30px; color:#666; text-decoration:none; font-size:0.8rem; font-weight:bold;">‚Üê RETURN TO PUBLIC SITE</a>
        </div>
    </div>

    <div id="dashboard-container">
        
        <aside>
            <div class="admin-logo">
                <span style="color:var(--accent); font-size:1.5rem;">///</span> CIVSOC ADMIN
            </div>
            
            <nav>
                <div class="nav-item active" onclick="switchTab('overview', this)"><span>üè†</span> Overview</div>
                <div class="nav-item" onclick="switchTab('events', this)"><span>üìÖ</span> Event Forms</div>
                <div class="nav-item" onclick="switchTab('finance', this)"><span>üí∞</span> Finance & Contracts</div>
                <div class="nav-item" onclick="switchTab('brand', this)"><span>üé®</span> Brand Kit</div>
                <div class="nav-item" onclick="switchTab('legal', this)"><span>‚öñÔ∏è</span> Legal & Docs</div>
            </nav>

            <a href="index.html" class="nav-item logout-btn">Disconnect</a>
        </aside>

        <main>
            
            <div id="overview" class="view-section active">
                <header>
                    <h1>Operations Console</h1>
                    <p class="intro">Welcome back, Committee Member. All systems nominal.</p>
                </header>

                <div class="grid">
                    <div class="card">
                        <div class="card-title"><span class="status-dot status-green"></span>Website Online</div>
                        <div class="card-desc">Production Environment active. Deployment synced.</div>
                    </div>
                    <div class="card">
                        <div class="card-title"><span class="status-dot status-yellow"></span>Easter Eggs</div>
                        <div class="card-desc">Duck Mode & Physics Engine enabled in 'eggs.js'.</div>
                    </div>
                    <div class="card">
                        <div class="card-title">Next Scheduled Event</div>
                        <div class="card-desc" id="next-event-display" style="color:var(--accent); font-weight:bold;">Syncing...</div>
                    </div>
                </div>
            </div>

            <div id="events" class="view-section">
                <header>
                    <h1>Event Management</h1>
                    <p class="intro">Standard operating procedures for event approval.</p>
                </header>

                <div class="grid">
                    <a href="https://studentsunionucl.org/forms/activity-registration-form-0" target="_blank" class="card" style="text-decoration:none;">
                        <span class="card-icon">üìù</span>
                        <div class="card-title">Activity Registration</div>
                        <div class="card-desc">Mandatory for all room bookings and events.</div>
                        <div class="action-btn">Open Webform</div>
                    </a>
                    <a href="https://studentsunionucl.org/forms/external-speaker-request-form" target="_blank" class="card" style="text-decoration:none;">
                        <span class="card-icon">üé§</span>
                        <div class="card-title">External Speaker</div>
                        <div class="card-desc">Clearance for non-UCL guests.</div>
                        <div class="action-btn">Open Webform</div>
                    </a>
                    <a href="https://studentsunionucl.org/sites/default/files/inline-images/Template%20Risk%20Assessment%20Forms%202024-25_0.xlsx" class="card" style="text-decoration:none;">
                        <span class="card-icon">‚ö†Ô∏è</span>
                        <div class="card-title">Risk Assessment</div>
                        <div class="card-desc">Official Union Excel Template (RA).</div>
                        <div class="action-btn download">Download XLSX</div>
                    </a>
                    <a href="https://studentsunionucl.org/forms/health-and-safety-report" target="_blank" class="card" style="text-decoration:none;">
                        <span class="card-icon">üöë</span>
                        <div class="card-title">Incident Report</div>
                        <div class="card-desc">Log accidents or near-misses.</div>
                        <div class="action-btn">Open Webform</div>
                    </a>
                </div>
            </div>

            <div id="finance" class="view-section">
                <header>
                    <h1>Treasury & Contracts</h1>
                    <p class="intro">Financial reimbursement and sponsorship handling.</p>
                </header>

                <div class="grid">
                    <a href="https://studentsunionucl.org/forms/payment-request-form" target="_blank" class="card" style="text-decoration:none;">
                        <span class="card-icon">üí∏</span>
                        <div class="card-title">Payment Request</div>
                        <div class="card-desc">Reimburse committee members for expenses. Solely Under ¬£350</div>
                        <div class="action-btn">Open Webform</div>
                    </a>
                    <a href="https://studentsunionucl.org/forms/purchase-request-form" target="_blank" class="card" style="text-decoration:none;">
                        <span class="card-icon">üõí</span>
                        <div class="card-title">Purchase Request</div>
                        <div class="card-desc">Direct invoice payment to suppliers. Particularly: ¬£350+</div>
                        <div class="action-btn">Open Webform</div>
                    </a>
                    <a href="https://studentsunionucl.org/forms/club-and-society-contract-submission-webform" target="_blank" class="card" style="text-decoration:none;">
                        <span class="card-icon">‚úçÔ∏è</span>
                        <div class="card-title">Contract Submission</div>
                        <div class="card-desc">Upload signed sponsorship agreements.</div>
                        <div class="action-btn">Open Webform</div>
                    </a>
                </div>
            </div>

            <div id="brand" class="view-section">
                <header>
                    <h1>Brand Assets</h1>
                    <p class="intro">Library of various elements for easy-picking (all logos have transparent background).</p>
                </header>

                <h2>Society Identity</h2>
                <div class="grid">
                    <div class="card">
                        <img src="images/website/civsoclogo.png" class="img-preview">
                        <div class="card-title">CivSoc Primary</div>
                        <a href="images/website/civsoclogo.png" download class="action-btn download">Download</a>
                    </div>
                    <div class="card">
                        <img src="images/website/sulogo.png" class="img-preview">
                        <div class="card-title">Union Logo</div>
                        <div class="card-desc">Standard Navy</div>
                        <a href="images/website/sulogo.png" download class="action-btn download">Download</a>
                    </div>
                </div>

                <h2>Sponsor Assets</h2>
                <div class="grid">
                    <div class="card">
                        <img src="images/sponsorlogos/aruplogo.png" class="img-preview">
                        <div class="card-title">Arup</div>
                        <a href="images/sponsorlogos/aruplogo.png" download class="action-btn download">Download PNG</a>
                    </div>
                    <div class="card">
                        <img src="images/sponsorlogos/mottmac.png" class="img-preview">
                        <div class="card-title">Mott MacDonald</div>
                        <a href="images/sponsorlogos/mottmac.png" download class="action-btn download">Download PNG</a>
                    </div>
                    <div class="card">
                        <img src="images/sponsorlogos/aecomlogo.svg" class="img-preview">
                        <div class="card-title">AECOM</div>
                        <a href="images/sponsorlogos/aecomlogo.svg" download class="action-btn download">Download SVG</a>
                    </div>
                </div>

                <h2>Color Palette</h2>
                <div class="grid">
                    <div class="card">
                        <div class="swatch" style="background: #500778;" onclick="copy('#500778')"></div>
                        <div class="card-title">UCL Purple</div>
                        <div class="card-desc">#500778 (Primary)</div>
                    </div>
                    <div class="card">
                        <div class="swatch" style="background: #F6BE00;" onclick="copy('#F6BE00')"></div>
                        <div class="card-title">Union Yellow</div>
                        <div class="card-desc">#F6BE00 (Accent)</div>
                    </div>
                </div>
            </div>

            <div id="legal" class="view-section">
                <header>
                    <h1>Governance</h1>
                    <p class="intro">Constitutional and regulatory documentation.</p>
                </header>

                <div class="grid">
                    <a href="docs/constitution.pdf" target="_blank" class="card" style="text-decoration:none;">
                        <span class="card-icon">üìú</span>
                        <div class="card-title">Society Constitution</div>
                        <div class="card-desc">Approved governing rules 2025/26.</div>
                        <div class="action-btn">View PDF</div>
                    </a>
                    <a href="https://studentsunionucl.org/sites/default/files/inline-images/Clubs%20and%20Society%20Regulations%2019-20.pdf" target="_blank" class="card" style="text-decoration:none;">
                        <span class="card-icon">‚öñÔ∏è</span>
                        <div class="card-title">Union Regulations</div>
                        <div class="card-desc">Mandatory Union bye-laws.</div>
                        <div class="action-btn">View PDF</div>
                    </a>
                    <a href="https://studentsunionucl.org/how-to/clubs-and-societies/data-protection-for-clubs-and-societies" target="_blank" class="card" style="text-decoration:none;">
                        <span class="card-icon">üîí</span>
                        <div class="card-title">GDPR Compliance</div>
                        <div class="card-desc">Data protection guidelines.</div>
                        <div class="action-btn">View Guide</div>
                    </a>
                    <a href="docs/howtoupdate.pdf" target="_blank" class="card" style="text-decoration:none;">
                        <span class="card-icon">‚ûï</span>
                        <div class="card-title">Add content</div>
                        <div class="card-desc">How do I update this?</div>
                        <div class="action-btn">View PDF</div>
                    </a>
                    <a href="docs/succession.pdf" target="_blank" class="card" style="text-decoration:none;">
                        <span class="card-icon">‚åõ</span>
                        <div class="card-title">Succession</div>
                        <div class="card-desc">How to ensure this website is transmitted to a new committee.</div>
                        <div class="action-btn">View PDF</div>
                    </a>
                </div>
            </div>

        </main>
    </div>

    <script src="data.js"></script>
    
    <script>
        // 1. AUTHENTICATION
        function attemptUnlock() {
            const input = document.getElementById('password-input');
            if(input.value === "civsoc2025") {
                document.getElementById('lock-screen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('lock-screen').style.display = 'none';
                    document.getElementById('dashboard-container').style.display = 'flex';
                    loadNextEvent();
                    checkLogos();
                }, 500);
            } else {
                document.getElementById('error-msg').style.display = 'block';
                input.value = '';
                input.focus();
            }
        }
        document.getElementById('password-input').addEventListener('keypress', e => { if(e.key === 'Enter') attemptUnlock(); });

        // 2. NAVIGATION
        function switchTab(tabId, btn) {
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            btn.classList.add('active');
        }

        // 3. UTILS
        function copy(text) {
            navigator.clipboard.writeText(text).then(() => alert("Copied: " + text));
        }

        function loadNextEvent() {
            if(typeof posts === 'undefined') return;
            const today = new Date(); today.setHours(0,0,0,0);
            const upcoming = posts.filter(p => p.eventDate && new Date(p.eventDate) >= today);
            upcoming.sort((a,b) => new Date(a.eventDate) - new Date(b.eventDate));
            
            if(upcoming.length > 0) {
                const next = upcoming[0];
                document.getElementById('next-event-display').innerText = `${next.title} (${next.eventDate})`;
            } else {
                document.getElementById('next-event-display').innerText = "No upcoming events.";
            }
        }

        // 4. SMART CONTRAST FOR LOGOS
        function checkLogos() {
            document.querySelectorAll('.img-preview').forEach(img => {
                // Heuristic: If filename contains 'su' (student union), force white BG
                // This prevents black logos disappearing on the dark dashboard
                // Add another 'img.src.toLowerCase().includes('keyword')' , separated by ||, for more white backgrounds)
                if(img.src.toLowerCase().includes('su'))  {
                    img.classList.add('light-bg');
                }
            });
        }
    </script>
</body>
</html>